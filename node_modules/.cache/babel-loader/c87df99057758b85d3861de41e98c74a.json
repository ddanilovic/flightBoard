{"ast":null,"code":"var _jsxFileName = \"/home/corbu/Desktop/winQuest/src/pages/login-user.js\";\nimport React, { useState } from \"react\";\nimport LoginForm from \"../components/LoginForm\";\nimport { useGlobalContext } from \"../context\";\n\nconst LoginUser = () => {\n  const [details, setDetails] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\"); //error state\n\n  const {\n    history\n  } = useGlobalContext();\n  const adminUser = {\n    //hardcoded user\n    email: \"john\",\n    password: \"123\"\n  };\n\n  const submitHandler = e => {\n    //after click clear inpuit fields and pass data\n    e.preventDefault();\n    Login(details);\n    setDetails({\n      email: \"\",\n      password: \"\"\n    });\n  };\n\n  const Login = details => {\n    //pass the user of input\n    if (details.email === adminUser.email && //input validation v local data\n    details.password === adminUser.password) {\n      sessionStorage.setItem(\"user\", \"John\");\n      history.push(\"/\");\n    } else {\n      setError(\"details do not match!\"); //display error\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, sessionStorage.getItem(\"user\") === null ?\n  /*#__PURE__*/\n  //if details not true display error\n  React.createElement(LoginForm, {\n    disabled: details.password.length < 1,\n    Login: Login,\n    error: error,\n    submitHandler: submitHandler,\n    setDetails: setDetails,\n    details: details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }) : history.push(\"/\") //if login successful go to homepage\n  );\n};\n\nexport default LoginUser;","map":{"version":3,"sources":["/home/corbu/Desktop/winQuest/src/pages/login-user.js"],"names":["React","useState","LoginForm","useGlobalContext","LoginUser","details","setDetails","email","password","error","setError","history","adminUser","submitHandler","e","preventDefault","Login","sessionStorage","setItem","push","getItem","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,gBAAT,QAAiC,YAAjC;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC;AAAEM,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GAAD,CAAtC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC,CAFsB,CAEkB;;AACxC,QAAM;AAAEU,IAAAA;AAAF,MAAcR,gBAAgB,EAApC;AACA,QAAMS,SAAS,GAAG;AAChB;AACAL,IAAAA,KAAK,EAAE,MAFS;AAGhBC,IAAAA,QAAQ,EAAE;AAHM,GAAlB;;AAKA,QAAMK,aAAa,GAAIC,CAAD,IAAO;AAC3B;AACAA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAACX,OAAD,CAAL;AACAC,IAAAA,UAAU,CAAC;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,QAAQ,EAAE;AAAvB,KAAD,CAAV;AACD,GALD;;AAOA,QAAMQ,KAAK,GAAIX,OAAD,IAAa;AACzB;AACA,QACEA,OAAO,CAACE,KAAR,KAAkBK,SAAS,CAACL,KAA5B,IAAqC;AACrCF,IAAAA,OAAO,CAACG,QAAR,KAAqBI,SAAS,CAACJ,QAFjC,EAGE;AACAS,MAAAA,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+B,MAA/B;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,GAAb;AACD,KAND,MAMO;AACLT,MAAAA,QAAQ,CAAC,uBAAD,CAAR,CADK,CAC8B;AACpC;AACF,GAXD;;AAYA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGO,cAAc,CAACG,OAAf,CAAuB,MAAvB,MAAmC,IAAnC;AAAA;AAA4C;AAC3C,sBAAC,SAAD;AACE,IAAA,QAAQ,EAAEf,OAAO,CAACG,QAAR,CAAiBa,MAAjB,GAA0B,CADtC;AAEE,IAAA,KAAK,EAAEL,KAFT;AAGE,IAAA,KAAK,EAAEP,KAHT;AAIE,IAAA,aAAa,EAAEI,aAJjB;AAKE,IAAA,UAAU,EAAEP,UALd;AAME,IAAA,OAAO,EAAED,OANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAUCM,OAAO,CAACQ,IAAR,CAAa,GAAb,CAVD,CAUmB;AAXtB,GADF;AAgBD,CA5CD;;AA8CA,eAAef,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport LoginForm from \"../components/LoginForm\";\nimport { useGlobalContext } from \"../context\";\n\nconst LoginUser = () => {\n  const [details, setDetails] = useState({ email: \"\", password: \"\" });\n  const [error, setError] = useState(\"\"); //error state\n  const { history } = useGlobalContext();\n  const adminUser = {\n    //hardcoded user\n    email: \"john\",\n    password: \"123\"\n  };\n  const submitHandler = (e) => {\n    //after click clear inpuit fields and pass data\n    e.preventDefault();\n    Login(details);\n    setDetails({ email: \"\", password: \"\" });\n  };\n\n  const Login = (details) => {\n    //pass the user of input\n    if (\n      details.email === adminUser.email && //input validation v local data\n      details.password === adminUser.password\n    ) {\n      sessionStorage.setItem(\"user\", \"John\");\n      history.push(\"/\");\n    } else {\n      setError(\"details do not match!\"); //display error\n    }\n  };\n  return (\n    <div className=\"App\">\n      {sessionStorage.getItem(\"user\") === null ? ( //if details not true display error\n        <LoginForm\n          disabled={details.password.length < 1}\n          Login={Login}\n          error={error}\n          submitHandler={submitHandler}\n          setDetails={setDetails}\n          details={details}\n        />\n      ) : (\n        history.push(\"/\") //if login successful go to homepage\n      )}\n    </div>\n  );\n};\n\nexport default LoginUser;\n"]},"metadata":{},"sourceType":"module"}